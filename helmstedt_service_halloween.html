<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Umzugs- & Hilfe-Service â€” Landkreis Helmstedt â€” Halloween-Special</title>
<style>
  :root{
    --bg:#ffffff; --text:#111827; --muted:rgba(17,24,39,0.6); --card:#f9fafb; --accent:#0ea5a4;
    --input-bg:#ffffff; --input-text:#111827; --border:rgba(15,23,42,0.08);
    --halloween:#ff6b35; --pumpkin:#ff8a00; --ghost:#fffefc;
  }
  [data-theme='dark']{
    --bg:#08121b; --text:#ffffff; --muted:rgba(255,255,255,0.75); --card:#0f1724; --accent:#06b6d4;
    --input-bg:#ffffff; --input-text:#111827; --border:rgba(255,255,255,0.12);
    --halloween:#ff8b4a; --pumpkin:#ff9b2a;
  }
  *{box-sizing:border-box}
  body{margin:0;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,'Helvetica Neue',Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;overflow-x:hidden}
  header{padding:18px 20px;display:flex;gap:12px;align-items:center;justify-content:space-between;border-bottom:1px solid rgba(0,0,0,0.06)}
  .brand{display:flex;gap:12px;align-items:center}
  .logo{width:56px;height:56px;border-radius:8px;background:linear-gradient(135deg,var(--accent),#7dd3fc);display:flex;align-items:center;justify-content:center;color:white;font-weight:700}
  main{padding:28px;max-width:1100px;margin:0 auto}
  .grid{display:grid;grid-template-columns:1fr 380px;gap:20px}
  .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 6px 18px rgba(10,10,12,0.04);position:relative;overflow:visible}
  label{display:block;font-size:13px;margin-bottom:6px}
  input, textarea, select{width:100%;padding:10px;border-radius:8px;border:1px solid var(--border);background:var(--input-bg);color:var(--input-text)}
  textarea{min-height:80px;resize:vertical}
  .muted{font-size:13px;color:var(--muted)}
  .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:var(--accent);color:white;text-decoration:none;border:none;cursor:pointer}
  .small{padding:8px 10px;font-size:14px}
  footer{padding:18px;text-align:center;color:var(--muted);margin-top:28px}
  .offer{font-size:18px;font-weight:600}
  /* Halloween banner */
  .halloween-banner{background:linear-gradient(90deg,var(--halloween),#ff4a4a);color:white;padding:10px 16px;border-radius:10px;display:flex;align-items:center;gap:12px;box-shadow:0 8px 24px rgba(0,0,0,0.08);margin-bottom:16px}
  .halloween-badge{background:rgba(255,255,255,0.12);padding:6px 10px;border-radius:8px;font-weight:700}
  /* animation overlay */
  #introOverlay{position:fixed;inset:0;background:linear-gradient(180deg,#ffffff 0%, #f1f5f9 100%);display:flex;align-items:center;justify-content:center;z-index:9999;transition:opacity .4s ease}
  [data-theme='dark'] #introOverlay{background:linear-gradient(180deg,#071025 0%, #071423 100%)}
  #boxWrap{width:320px;height:220px;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative}
  .box{width:180px;height:120px;position:relative;perspective:800px}
  .base{width:100%;height:100%;background:#d6b370;border-radius:6px;position:relative;transform-origin:center;box-shadow:0 8px 24px rgba(2,6,23,0.08)}
  .lid{position:absolute;left:0;top:-18px;width:100%;height:38px;background:#b3873f;border-radius:6px;transform-origin:10% 100%}
  .tape{position:absolute;left:50%;transform:translateX(-50%);top:38px;width:60%;height:18px;background:linear-gradient(90deg,#fff4cc,#fff1b6);border-radius:2px}
  .open{animation:openLid 1.2s ease forwards}
  @keyframes openLid{0%{transform:rotateX(0)}60%{transform:rotateX(-120deg)}100%{transform:rotateX(-130deg);opacity:1}}
  .fadeOut{animation:fadeOut 0.9s ease 1s forwards}
  @keyframes fadeOut{to{opacity:0;transform:translateY(-12px);visibility:hidden}}
  /* falling ghost-woman */
  .ghost-wrap{position:fixed;top:-40vh;left:50%;transform:translateX(-50%);z-index:10000;pointer-events:none;animation:ghostDrop 1.3s cubic-bezier(.2,.9,.3,1) forwards, ghostFloat 3s ease-in-out 1.5s infinite}
  @keyframes ghostDrop{0%{top:-60vh;opacity:0;transform:translateX(-50%) scale(.9)}60%{opacity:1}100%{top:8vh;transform:translateX(-50%) scale(1)}} 
  @keyframes ghostFloat{0%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(-6px)}100%{transform:translateX(-50%) translateY(0)}}
  .ghost-svg{width:140px;height:160px;filter:drop-shadow(0 8px 18px rgba(0,0,0,0.25))}
  /* pumpkins floating */
  .pumpkin{position:fixed;pointer-events:none;will-change:transform;z-index:800}
  .pumpkin.p1{left:8%;top:20%;animation:float1 6s ease-in-out infinite}
  .pumpkin.p2{left:85%;top:18%;animation:float2 5.5s ease-in-out infinite}
  .pumpkin.p3{left:30%;top:75%;animation:float3 7s ease-in-out infinite}
  @keyframes float1{0%{transform:translateY(0) rotate(-6deg)}50%{transform:translateY(-10px) rotate(6deg)}100%{transform:translateY(0) rotate(-6deg)}}
  @keyframes float2{0%{transform:translateY(0) rotate(4deg)}50%{transform:translateY(-8px) rotate(-4deg)}100%{transform:translateY(0) rotate(4deg)}}
  @keyframes float3{0%{transform:translateY(0) rotate(0)}50%{transform:translateY(-12px) rotate(4deg)}100%{transform:translateY(0) rotate(0)}}
  /* package decorations with pumpkins */
  .pkg-deco{position:absolute;right:12px;bottom:12px;display:flex;gap:6px;align-items:center}
  .pkg{width:44px;height:38px;background:#d6b370;border-radius:6px;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 12px rgba(0,0,0,0.12);position:relative}
  .pumpkin-mini{width:18px;height:18px;background:var(--pumpkin);border-radius:50%;display:inline-block;box-shadow:inset -3px -3px 0 rgba(0,0,0,0.06);transform:translateY(2px)}
  /* responsive */
  @media(max-width:900px){.grid{grid-template-columns:1fr}.pumpkin{display:none}.ghost-wrap{transform:translateX(-50%) scale(0.8)}}
</style>
</head>
<body>
  <!-- Halloween overlay animation area -->
  <div id="introOverlay" aria-hidden="false">
    <div id="boxWrap">
      <div class="box" id="box">
        <div class="lid" id="lid"></div>
        <div class="tape"></div>
        <div class="base"></div>
        <div class="pkg-deco">
          <div class="pkg"><span style="font-size:12px;color:#5a3b1b">UM</span></div>
          <div class="pkg"><span class="pumpkin-mini" title="KÃ¼rbis"></span></div>
        </div>
      </div>
      <div style="margin-top:14px;text-align:center">
        <div style="font-weight:700;font-size:18px">Willkommen</div>
        <div class="muted">Halloween-Special aktiv â€” viel GlÃ¼ck! ðŸŽƒ</div>
      </div>
    </div>
  </div>

  <!-- floating decorations (visible after load) -->
  <div class="pumpkin p1" aria-hidden="true">
    <!-- simple SVG pumpkin -->
    <svg width="72" height="72" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <ellipse cx="32" cy="36" rx="20" ry="16" fill="var(--pumpkin)"/>
      <rect x="28" y="16" width="8" height="8" rx="2" fill="#7b4f00"/>
      <path d="M12 36c4-12 14-16 20-16s16 4 20 16c-8 6-24 6-40 0z" fill="#ffb36b" opacity="0.15"/>
    </svg>
  </div>
  <div class="pumpkin p2" aria-hidden="true">
    <svg width="60" height="60" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <ellipse cx="32" cy="34" rx="18" ry="14" fill="var(--pumpkin)"/>
      <rect x="28" y="12" width="8" height="6" rx="1" fill="#7b4f00"/>
    </svg>
  </div>
  <div class="pumpkin p3" aria-hidden="true">
    <svg width="48" height="48" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <ellipse cx="32" cy="34" rx="14" ry="12" fill="var(--pumpkin)"/>
      <rect x="28" y="10" width="8" height="5" rx="1" fill="#7b4f00"/>
    </svg>
  </div>

  <!-- ghost woman descending with package -->
  <div class="ghost-wrap" id="ghostWrap" aria-hidden="true" style="display:none">
    <!-- stylized ghost-woman holding a package (SVG) -->
    <svg class="ghost-svg" viewBox="0 0 200 240" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <!-- body / cloak -->
      <path d="M100 16c-30 0-52 22-52 52v110c0 12 10 22 22 22h60c12 0 22-10 22-22V68c0-30-22-52-52-52z" fill="#ffffff"/>
      <!-- face (simple) -->
      <circle cx="90" cy="68" r="8" fill="#222" opacity="0.9"/>
      <circle cx="110" cy="68" r="8" fill="#222" opacity="0.9"/>
      <path d="M88 82c6 6 16 6 22 0" stroke="#222" stroke-width="3" stroke-linecap="round" fill="none"/>
      <!-- package in hands -->
      <rect x="74" y="96" width="52" height="36" rx="6" fill="#d6b370" stroke="#b3873f" stroke-width="2"/>
      <rect x="90" y="106" width="20" height="4" fill="#7b4f00" opacity="0.9"/>
      <!-- ghost sheet tail -->
      <path d="M70 150c10 20 20 16 30 16s20 4 30-16" fill="#ffffff" opacity="0.95"/>
      <!-- subtle shadow -->
      <ellipse cx="100" cy="180" rx="42" ry="10" fill="rgba(0,0,0,0.08)"/>
    </svg>
  </div>

  <header>
    <div class="brand">
      <div class="logo">UM</div>
      <div>
        <h1 style="margin:0;font-size:18px">Umzugs- & Hilfe-Service</h1>
        <div class="muted">Landkreis Helmstedt (alle Orte & DÃ¶rfer)</div>
      </div>
    </div>
    <div style="display:flex;gap:12px;align-items:center">
      <div class="halloween-banner" title="Halloween Special">
        <div class="halloween-badge">Halloween</div>
        <div><strong>Jetzt aktiv:</strong> 10% Rabatt auf Arbeitszeit im Oktober ðŸŽƒ</div>
      </div>
      <div class="card" style="padding:6px 10px;">
        <label style="font-size:13px;margin:0 0 6px 0">Darkmode</label>
        <input id="themeToggle" type="checkbox" />
      </div>
    </div>
  </header>

  <main>
    <div class="grid">
      <section class="card" aria-labelledby="simTitle">
        <h2 id="simTitle">Angebotssimulation â€” Halloween-Special aktiv</h2>
        <p class="muted">GÃ¼ltig: Landkreis Helmstedt â€” alle Orte & DÃ¶rfer. Rabatt: 10% auf Arbeitszeit (wird im Ergebnis angezeigt).</p>

        <div style="margin-top:12px">
          <label>Ort</label>
          <input id="cityInput" type="text" placeholder="z. B. Helmstedt, SchÃ¶ningen" value="Helmstedt" />
        </div>

        <div style="display:flex;gap:10px;margin-top:12px">
          <div style="flex:1">
            <label>Personen</label>
            <input id="helpers" type="number" min="1" value="1" />
          </div>
          <div style="width:140px">
            <label>Stunden (geschÃ¤tzt)</label>
            <input id="hours" type="number" min="0" step="0.5" value="2" />
          </div>
        </div>

        <div style="display:flex;gap:10px;margin-top:12px">
          <div style="flex:1">
            <label>Preis / Std (EUR)</label>
            <input id="rate" type="number" min="0" value="25" />
          </div>
        </div>

        <div style="margin-top:12px">
          <label>Notizen</label>
          <textarea id="notes" placeholder="z. B. enge Treppen, viele Kartons"></textarea>
        </div>

        <div style="display:flex;gap:10px;margin-top:14px;align-items:center">
          <button class="btn" id="calcBtn">Angebot berechnen</button>
          <button class="btn small" id="bookBtn">Als Person buchen</button>
          <button class="small" id="downloadBtn" style="background:var(--accent);">HTML herunterladen</button>
        </div>

        <div id="result" class="card" style="margin-top:14px;background:transparent;padding:10px;border-radius:8px;border:1px dashed rgba(0,0,0,0.06)"></div>

        <p class="muted" style="margin-top:8px">Wichtig: Keine Fahrzeugnutzung mÃ¶glich â€” Buchung als helfende Person.</p>
      </section>

      <aside class="card">
        <h3>Ãœbersicht</h3>
        <ul>
          <li>Servicegebiet: Landkreis Helmstedt (alle Orte & DÃ¶rfer)</li>
          <li>Anfahrtskosten: 15 â‚¬ pauschal</li>
          <li>Halloween: 10% Rabatt auf Arbeitszeit</li>
        </ul>

        <div style="margin-top:12px">
          <h4>Quick-Preise</h4>
          <p class="muted">(Beispiel)</p>
          <div class="offer">1 Person Ã— 2 Std Ã— 25 â‚¬/Std = 50 â‚¬</div>
          <div class="muted">+ Anfahrt 15 â‚¬ â†’ Gesamtkosten vor Rabatt</div>
        </div>

        <div style="margin-top:14px;display:flex;flex-direction:column;gap:8px">
          <button class="btn" id="resetBtn">Formular zurÃ¼cksetzen</button>
          <a class="btn" id="contactBtn" href="#impressum" style="text-align:center;display:block">Impressum & AGB</a>
        </div>
      </aside>
    </div>

    <!-- Impressum, AGB, Datenschutz -->
    <section id="impressum" class="card" style="margin-top:20px">
      <h2>Impressum</h2>
      <p class="muted">Angaben gemÃ¤ÃŸ Â§5 TMG</p>
      <p><strong>Umzugs- & Hilfe-Service</strong><br/>MusterstraÃŸe 1<br/>38350 Helmstedt</p>
      <p>Kontakt: <a href="mailto:kontakt@helmstedt-umzug.de">kontakt@helmstedt-umzug.de</a> | Tel: 01234 567890</p>

      <h3 style="margin-top:16px">AGB (Kurzfassung)</h3>
      <p class="muted">Diese AGB regeln die Buchung und DurchfÃ¼hrung von Hilfsleistungen. Buchungen erfolgen als helfende Person â€” kein Transport durch den Dienstleister. Zahlungen erfolgen nach Vereinbarung.</p>

      <h3 style="margin-top:12px">DatenschutzerklÃ¤rung (Kurzfassung)</h3>
      <p class="muted">Wir speichern nur notwendige Kontaktdaten zur Abwicklung von Buchungen. Weitere Details auf Anfrage.</p>
    </section>
  </main>

  <footer>
    Â© 2025 Umzugs- & Hilfe-Service â€” Landkreis Helmstedt â€¢ PLZ 38350
  </footer>

<script>
  // Theme handling - inputs remain white in darkmode
  const themeToggle = document.getElementById('themeToggle');
  function applyTheme(dark){
    if(dark) document.documentElement.setAttribute('data-theme','dark');
    else document.documentElement.removeAttribute('data-theme');
    localStorage.setItem('themeDark', dark? '1':'0');
  }
  applyTheme(localStorage.getItem('themeDark') === '1');
  themeToggle.checked = localStorage.getItem('themeDark') === '1';
  themeToggle.addEventListener('change', ()=> applyTheme(themeToggle.checked));

  // Intro animation - box opens and overlay removed
  const lid = document.getElementById('lid');
  const overlay = document.getElementById('introOverlay');
  setTimeout(()=>{ lid.classList.add('open'); setTimeout(()=>{ overlay.classList.add('fadeOut'); setTimeout(()=>{ try{ overlay.remove(); }catch(e){} },900); },1200); },400);

  // Show ghost after overlay removed (or shortly after load)
  window.addEventListener('load', ()=>{
    setTimeout(()=>{
      const gw = document.getElementById('ghostWrap');
      if(gw){ gw.style.display='block'; }
    },700);
  });

  // Pumpkins appear only after load
  window.addEventListener('load', ()=>{
    document.querySelectorAll('.pumpkin').forEach(p=> p.style.opacity=1);
  });

  // Calculation with Halloween discount (10% off labor)
  document.getElementById('calcBtn').addEventListener('click', ()=>{
    const hours = parseFloat(document.getElementById('hours').value)||0;
    const helpers = parseInt(document.getElementById('helpers').value)||1;
    const rate = parseFloat(document.getElementById('rate').value)||0;
    const notes = document.getElementById('notes').value||'';
    const labor = hours * helpers * rate;
    const discount = 0.10; // 10% Halloween
    const laborDiscounted = Math.round((labor * (1-discount)) * 100) / 100;
    const travel = 15;
    const total = Math.round((laborDiscounted + travel) * 100) / 100;
    document.getElementById('result').innerHTML = `
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div>
          <div class="muted">Arbeitszeit (nach 10% Halloween-Rabatt)</div>
          <div class="offer">${helpers} Person(en) Ã— ${hours} Std Ã— ${rate} â‚¬/Std = ${labor.toFixed(2)} â‚¬ â†’ <strong>${laborDiscounted.toFixed(2)} â‚¬</strong></div>
        </div>
        <div style="text-align:right">
          <div class="muted">Anfahrt</div>
          <div class="offer">${travel.toFixed(2)} â‚¬</div>
        </div>
      </div>
      <hr style="margin:10px 0;border:none;border-top:1px dashed rgba(0,0,0,0.06)" />
      <div style="display:flex;justify-content:space-between;align-items:center">
        <div class="muted">Gesamt</div>
        <div class="offer">${total.toFixed(2)} â‚¬</div>
      </div>
      <div class="muted" style="margin-top:8px">Notiz: ${notes || 'keine'}</div>
    `;
  });

  // Download button
  document.getElementById('downloadBtn').addEventListener('click', ()=>{
    const doc = '<!doctype html>\n' + document.documentElement.outerHTML;
    const blob = new Blob([doc], {type: 'text/html'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'helmstedt_service_halloween.html';
    document.body.appendChild(a);
    a.click();
    a.remove();
    setTimeout(()=>URL.revokeObjectURL(url),10000);
  });

  // Reset button (not present?) - left for compatibility
  const resetBtn = document.getElementById('resetBtn');
  if(resetBtn){
    resetBtn.addEventListener('click', ()=>{
      document.getElementById('cityInput').value='Helmstedt';
      document.getElementById('hours').value=2;
      document.getElementById('helpers').value=1;
      document.getElementById('rate').value=25;
      document.getElementById('notes').value='';
      document.getElementById('result').innerHTML='';
    });
  }
</script>
</body>
</html>